name: publish flying book v2
on:
  push:
    branches:
      - master 
      - main
permissions:
  contents: write
jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-python@v4
        with:
          python-version: 3.x
      - uses: actions/cache@v2
        with:
          key: ${{ github.ref }}
          path: .cache
      - run: pip install mkdocs-material 
      - run: mkdocs gh-deploy --force
      

# name: publish flying book
# on: # 在什么时候触发工作流
#   push: # 在从本地main分支被push到GitHub仓库时
#     branches:
#       - main
#   pull_request: # 在main分支合并别人提的pr时
#     branches:
#       - main
# jobs: # 工作流的具体内容
#   deploy:
#     runs-on: ubuntu-latest  # 创建一个新的云端虚拟机 使用最新Ubuntu系统
#     steps:
#       - uses: actions/checkout@v3  # 先checkout到main分支
#       - uses: actions/setup-python@v4  # 安装Python3和相关环境
#         with:
#           python-version: 3.x
#       - uses: actions/cache@v2
#         with:
#           key: ${{ github.ref }}
#           path: .cache
#       - run: pip install mkdocs-material  # 使用pip包管理工具安装mkdocs-material
#       - run: mkdocs gh-deploy --force  # 使用mkdocs-material部署gh-pages分支

# # Update in 2023/06/10
